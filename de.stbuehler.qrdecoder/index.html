<!doctype html>
<html>
<head>
	<title>QR Decoder</title>
	<meta name='viewport' content='height=device-height'>
</head>
<body>
	<script type="text/javascript">
		// Setup
		var loc = window.location.href;
		var path = loc.substr(0, loc.lastIndexOf("/") + 1);
		var app = "enyo.html"; // default version
		
		// Switching logic
		var deviceInfo, majorVersion, minorVersion;
		
		if (window.PalmSystem) {
			deviceInfo = JSON.parse(PalmSystem.deviceInfo);
			majorVersion = deviceInfo["platformVersionMajor"];
			minorVersion = deviceInfo["platformVersionMinor"];
			
			/* no enyo mediacapture on webOS 2.2 so far */
			/* if (majorVersion < 2 || (majorVersion == 2 && minorVersion < 2)) { */
			if (majorVersion < 3) {
				app = "mojo.html";
			}
		}
		
		// Redirection
		window.location.href = path + app;
	</script>
</body>
</html>
